Oracle:  empty catalog messed up VDB schemas name
I recently upgraded from Teiid 8.12.3 to version 9.1.1.  And I found query transformation problem for oracle 12c.

 

I have a simple query.  See below:

 

select "STORE_CITY"

from "jasperserver_FOODMART"."STORE"

limit 200001

 

However, teiid version 9.1.1 transformed the query to

 

Caused by: org.teiid.jdbc.TeiidSQLException: TEIID30504 1017993016: 1741 TEIID11008:TEIID11004 Error executing statement(s): [Prepared Values: [] SQL: SELECT c_0 FROM (SELECT g_0."STORE_CITY" AS c_0 FROM "FOODMART".""."STORE" g_0) WHERE ROWNUM <= 200001]

        at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:135)

        at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:71)

        at org.teiid.jdbc.StatementImpl.postReceiveResults(StatementImpl.java:723)

        at org.teiid.jdbc.StatementImpl.access$100(StatementImpl.java:65)

        at org.teiid.jdbc.StatementImpl$2.onCompletion(StatementImpl.java:561)

        at org.teiid.client.util.ResultsFuture.addCompletionListener(ResultsFuture.java:148)

        at org.teiid.jdbc.StatementImpl.executeSql(StatementImpl.java:557)

        at org.teiid.jdbc.PreparedStatementImpl.executeQuery(PreparedStatementImpl.java:317)

        at org.teiid.jdbc.PreparedStatementImpl.executeQuery(PreparedStatementImpl.java:76)

It looks like it's returning an empty string for the catalog.  The code currently expects a non-null to indicate the package name.