 java.lang.IndexOutOfBoundsException in LobManager under continuous execution
Nov 06, 2012 11:53:33 AM org.teiid.logging.JavaLogger log
SEVERE: TEIID30019 Unexpected exception for request AOyPhe2xsxVc.0
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:604)
	at java.util.ArrayList.get(ArrayList.java:382)
	at org.teiid.common.buffer.LobManager.updateReferences(LobManager.java:116)
	at org.teiid.common.buffer.TupleBuffer.addTupleBatch(TupleBuffer.java:138)
	at org.teiid.query.processor.BatchCollector.flushBatchDirect(BatchCollector.java:197)
	at org.teiid.dqp.internal.process.RequestWorkItem$1.flushBatchDirect(RequestWorkItem.java:555)
	at org.teiid.query.processor.BatchCollector.flushBatch(BatchCollector.java:191)
	at org.teiid.query.processor.BatchCollector.collectTuples(BatchCollector.java:166)
	at org.teiid.dqp.internal.process.RequestWorkItem.processMore(RequestWorkItem.java:382)
	at org.teiid.dqp.internal.process.RequestWorkItem.process(RequestWorkItem.java:291)
	at org.teiid.dqp.internal.process.AbstractWorkItem.run(AbstractWorkItem.java:49)
	at org.teiid.dqp.internal.process.RequestWorkItem.run(RequestWorkItem.java:219)
	at org.teiid.dqp.internal.process.DQPWorkContext.runInContext(DQPWorkContext.java:249)
	at org.teiid.dqp.internal.process.ThreadReuseExecutor$RunnableWrapper.run(ThreadReuseExecutor.java:123)
	at org.teiid.dqp.internal.process.ThreadReuseExecutor$3.run(ThreadReuseExecutor.java:298)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	at java.lang.Thread.run(Thread.java:722)

org.teiid.jdbc.TeiidSQLException: Index: 0, Size: 0
	at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:113)
	at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:70)
	at org.teiid.jdbc.StatementImpl.postReceiveResults(StatementImpl.java:656)
	at org.teiid.jdbc.StatementImpl.access$100(StatementImpl.java:62)
	at org.teiid.jdbc.StatementImpl$2.onCompletion(StatementImpl.java:512)
	at org.teiid.client.util.ResultsFuture.done(ResultsFuture.java:130)
	at org.teiid.client.util.ResultsFuture.access$200(ResultsFuture.java:37)
	at org.teiid.client.util.ResultsFuture$1.receiveResults(ResultsFuture.java:75)
	at org.teiid.dqp.internal.process.RequestWorkItem.sendError(RequestWorkItem.java:797)
	at org.teiid.dqp.internal.process.RequestWorkItem.close(RequestWorkItem.java:483)
	at org.teiid.dqp.internal.process.RequestWorkItem.process(RequestWorkItem.java:318)
	at org.teiid.dqp.internal.process.AbstractWorkItem.run(AbstractWorkItem.java:49)
	at org.teiid.dqp.internal.process.RequestWorkItem.run(RequestWorkItem.java:219)
	at org.teiid.dqp.internal.process.DQPWorkContext.runInContext(DQPWorkContext.java:249)
	at org.teiid.dqp.internal.process.ThreadReuseExecutor$RunnableWrapper.run(ThreadReuseExecutor.java:123)
	at org.teiid.dqp.internal.process.ThreadReuseExecutor$3.run(ThreadReuseExecutor.java:298)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	at java.lang.Thread.run(Thread.java:722)
Caused by: org.teiid.core.TeiidException: Index: 0, Size: 0
	at org.teiid.client.ResultsMessage.setException(ResultsMessage.java:172)
	at org.teiid.dqp.internal.process.RequestWorkItem.sendError(RequestWorkItem.java:795)
	... 10 more
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(ArrayList.java:604)
	at java.util.ArrayList.get(ArrayList.java:382)
	at org.teiid.common.buffer.LobManager.updateReferences(LobManager.java:116)
	at org.teiid.common.buffer.TupleBuffer.addTupleBatch(TupleBuffer.java:138)
	at org.teiid.query.processor.BatchCollector.flushBatchDirect(BatchCollector.java:197)
	at org.teiid.dqp.internal.process.RequestWorkItem$1.flushBatchDirect(RequestWorkItem.java:555)
	at org.teiid.query.processor.BatchCollector.flushBatch(BatchCollector.java:191)
	at org.teiid.query.processor.BatchCollector.collectTuples(BatchCollector.java:166)
	at org.teiid.dqp.internal.process.RequestWorkItem.processMore(RequestWorkItem.java:382)
	at org.teiid.dqp.internal.process.RequestWorkItem.process(RequestWorkItem.java:291)
	... 8 more
