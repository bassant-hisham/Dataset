JDG resource adapter does not reconnect properly when JDG as mat cache is restarted
After JDG restart, JDV cannot recover:

Executing using the TeiidDriver
org.teiid.jdbc.TeiidSQLException: TEIID30504 Remote org.teiid.core.TeiidProcessingException: TEIID30504 PersonMatSource1: Program Error: Cache Name is null
    at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:135)
    at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:71)
    at org.teiid.jdbc.StatementImpl.postReceiveResults(StatementImpl.java:721)
    at org.teiid.jdbc.StatementImpl.access$100(StatementImpl.java:64)
    at org.teiid.jdbc.StatementImpl$2.onCompletion(StatementImpl.java:560)
    at org.teiid.client.util.ResultsFuture.done(ResultsFuture.java:135)
    at org.teiid.client.util.ResultsFuture.access$200(ResultsFuture.java:40)
    at org.teiid.client.util.ResultsFuture$1.receiveResults(ResultsFuture.java:79)
    at org.teiid.net.socket.SocketServerInstanceImpl.receivedMessage(SocketServerInstanceImpl.java:268)
    at org.teiid.net.socket.SocketServerInstanceImpl.read(SocketServerInstanceImpl.java:306)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.teiid.net.socket.SocketServerConnectionFactory$ShutdownHandler.invoke(SocketServerConnectionFactory.java:98)
    at com.sun.proxy.$Proxy24.read(Unknown Source)
    at org.teiid.net.socket.SocketServerInstanceImpl$RemoteInvocationHandler$1.get(SocketServerInstanceImpl.java:405)
    at org.teiid.jdbc.StatementImpl.executeSql(StatementImpl.java:569)
    at org.teiid.jdbc.StatementImpl.execute(StatementImpl.java:1063)
    at org.teiid.jdbc.StatementImpl.execute(StatementImpl.java:338)
    at JDBCClient.execute(JDBCClient.java:93)
    at JDBCClient.main(JDBCClient.java:48)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:293)
    at java.lang.Thread.run(Thread.java:745)
Caused by: org.teiid.core.TeiidProcessingException: TEIID30504 Remote org.teiid.core.TeiidProcessingException: TEIID30504 PersonMatSource1: Program Error: Cache Name is null
    at org.teiid.dqp.internal.process.DataTierTupleSource.exceptionOccurred(DataTierTupleSource.java:401)
    at org.teiid.dqp.internal.process.DataTierTupleSource.nextTuple(DataTierTupleSource.java:161)
    at org.teiid.query.processor.relational.AccessNode.nextBatchDirect(AccessNode.java:391)
    at org.teiid.query.processor.relational.RelationalNode.nextBatch(RelationalNode.java:282)
    at org.teiid.query.processor.relational.RelationalPlan.nextBatch(RelationalPlan.java:145)
    at org.teiid.query.processor.QueryProcessor.nextBatchDirect(QueryProcessor.java:151)
    at org.teiid.query.processor.QueryProcessor.nextBatch(QueryProcessor.java:114)
    at org.teiid.query.processor.BatchCollector.collectTuples(BatchCollector.java:164)
    at org.teiid.query.processor.BatchCollector.collectTuples(BatchCollector.java:146)
    at org.teiid.dqp.internal.process.RequestWorkItem.processMore(RequestWorkItem.java:472)
    at org.teiid.dqp.internal.process.RequestWorkItem.process(RequestWorkItem.java:348)
    at org.teiid.dqp.internal.process.AbstractWorkItem.run(AbstractWorkItem.java:51)
    at org.teiid.dqp.internal.process.RequestWorkItem.run(RequestWorkItem.java:274)
    at org.teiid.dqp.internal.process.DQPWorkContext.runInContext(DQPWorkContext.java:280)
    at org.teiid.dqp.internal.process.ThreadReuseExecutor$RunnableWrapper.run(ThreadReuseExecutor.java:119)
    at org.teiid.dqp.internal.process.ThreadReuseExecutor$3.run(ThreadReuseExecutor.java:210)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    ... 1 more
Caused by: org.teiid.core.TeiidException: Remote org.teiid.translator.TranslatorException: Program Error: Cache Name is null
    at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.handleError(ConnectorWorkItem.java:310)
    at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.execute(ConnectorWorkItem.java:369)
    at sun.reflect.GeneratedMethodAccessor103.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.teiid.dqp.internal.datamgr.ConnectorManager$1.invoke(ConnectorManager.java:211)
    at com.sun.proxy.$Proxy113.execute(Unknown Source)
    at org.teiid.dqp.internal.process.DataTierTupleSource.getResults(DataTierTupleSource.java:306)
    at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:112)
    at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:108)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at org.teiid.dqp.internal.process.FutureWork.run(FutureWork.java:65)
    ... 6 more
Caused by: java.lang.Error: Remote java.lang.AssertionError: Program Error: Cache Name is null
    at org.teiid.core.util.Assertion.failed(Assertion.java:73)
    at org.teiid.core.util.Assertion.isNotNull(Assertion.java:100)
    at org.teiid.resource.adapter.infinispan.dsl.InfinispanManagedConnectionFactory.getCache(InfinispanManagedConnectionFactory.java:173)
    at org.teiid.resource.adapter.infinispan.dsl.InfinispanConnectionImpl.getCache(InfinispanConnectionImpl.java:251)
    at org.teiid.resource.adapter.infinispan.dsl.InfinispanConnectionImpl.getQueryFactory(InfinispanConnectionImpl.java:140)
    at org.teiid.resource.adapter.infinispan.dsl.DSLSearch.getQueryBuilder(DSLSearch.java:205)
    at org.teiid.resource.adapter.infinispan.dsl.DSLSearch.performSearch(DSLSearch.java:156)
    at org.teiid.resource.adapter.infinispan.dsl.DSLSearch.performSearch(DSLSearch.java:143)
    at org.teiid.translator.object.ObjectExecution.execute(ObjectExecution.java:261)
    at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.execute(ConnectorWorkItem.java:366)
    ... 16 more
-----------------------------------
Executing using the TeiidDataSource
org.teiid.jdbc.TeiidSQLException: TEIID30504 Remote org.teiid.core.TeiidProcessingException: TEIID30504 PersonMatSource1: Program Error: Cache Name is null
    at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:135)
    at org.teiid.jdbc.TeiidSQLException.create(TeiidSQLException.java:71)
    at org.teiid.jdbc.StatementImpl.postReceiveResults(StatementImpl.java:721)
    at org.teiid.jdbc.StatementImpl.access$100(StatementImpl.java:64)
    at org.teiid.jdbc.StatementImpl$2.onCompletion(StatementImpl.java:560)
    at org.teiid.client.util.ResultsFuture.done(ResultsFuture.java:135)
    at org.teiid.client.util.ResultsFuture.access$200(ResultsFuture.java:40)
    at org.teiid.client.util.ResultsFuture$1.receiveResults(ResultsFuture.java:79)
    at org.teiid.net.socket.SocketServerInstanceImpl.receivedMessage(SocketServerInstanceImpl.java:268)
    at org.teiid.net.socket.SocketServerInstanceImpl.read(SocketServerInstanceImpl.java:306)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.teiid.net.socket.SocketServerConnectionFactory$ShutdownHandler.invoke(SocketServerConnectionFactory.java:98)
    at com.sun.proxy.$Proxy24.read(Unknown Source)
    at org.teiid.net.socket.SocketServerInstanceImpl$RemoteInvocationHandler$1.get(SocketServerInstanceImpl.java:405)
    at org.teiid.jdbc.StatementImpl.executeSql(StatementImpl.java:569)
    at org.teiid.jdbc.StatementImpl.execute(StatementImpl.java:1063)
    at org.teiid.jdbc.StatementImpl.execute(StatementImpl.java:338)
    at JDBCClient.execute(JDBCClient.java:93)
    at JDBCClient.main(JDBCClient.java:55)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:293)
    at java.lang.Thread.run(Thread.java:745)
Caused by: org.teiid.core.TeiidProcessingException: TEIID30504 Remote org.teiid.core.TeiidProcessingException: TEIID30504 PersonMatSource1: Program Error: Cache Name is null
    at org.teiid.dqp.internal.process.DataTierTupleSource.exceptionOccurred(DataTierTupleSource.java:401)
    at org.teiid.dqp.internal.process.DataTierTupleSource.nextTuple(DataTierTupleSource.java:161)
    at org.teiid.query.processor.relational.AccessNode.nextBatchDirect(AccessNode.java:391)
    at org.teiid.query.processor.relational.RelationalNode.nextBatch(RelationalNode.java:282)
    at org.teiid.query.processor.relational.RelationalPlan.nextBatch(RelationalPlan.java:145)
    at org.teiid.query.processor.QueryProcessor.nextBatchDirect(QueryProcessor.java:151)
    at org.teiid.query.processor.QueryProcessor.nextBatch(QueryProcessor.java:114)
    at org.teiid.query.processor.BatchCollector.collectTuples(BatchCollector.java:164)
    at org.teiid.query.processor.BatchCollector.collectTuples(BatchCollector.java:146)
    at org.teiid.dqp.internal.process.RequestWorkItem.processMore(RequestWorkItem.java:472)
    at org.teiid.dqp.internal.process.RequestWorkItem.process(RequestWorkItem.java:348)
    at org.teiid.dqp.internal.process.AbstractWorkItem.run(AbstractWorkItem.java:51)
    at org.teiid.dqp.internal.process.RequestWorkItem.run(RequestWorkItem.java:274)
    at org.teiid.dqp.internal.process.DQPWorkContext.runInContext(DQPWorkContext.java:280)
    at org.teiid.dqp.internal.process.ThreadReuseExecutor$RunnableWrapper.run(ThreadReuseExecutor.java:119)
    at org.teiid.dqp.internal.process.ThreadReuseExecutor$3.run(ThreadReuseExecutor.java:210)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    ... 1 more
Caused by: org.teiid.core.TeiidException: Remote org.teiid.translator.TranslatorException: Program Error: Cache Name is null
    at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.handleError(ConnectorWorkItem.java:310)
    at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.execute(ConnectorWorkItem.java:369)
    at sun.reflect.GeneratedMethodAccessor103.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at org.teiid.dqp.internal.datamgr.ConnectorManager$1.invoke(ConnectorManager.java:211)
    at com.sun.proxy.$Proxy113.execute(Unknown Source)
    at org.teiid.dqp.internal.process.DataTierTupleSource.getResults(DataTierTupleSource.java:306)
    at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:112)
    at org.teiid.dqp.internal.process.DataTierTupleSource$1.call(DataTierTupleSource.java:108)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at org.teiid.dqp.internal.process.FutureWork.run(FutureWork.java:65)
    ... 6 more
Caused by: java.lang.Error: Remote java.lang.AssertionError: Program Error: Cache Name is null
    at org.teiid.core.util.Assertion.failed(Assertion.java:73)
    at org.teiid.core.util.Assertion.isNotNull(Assertion.java:100)
    at org.teiid.resource.adapter.infinispan.dsl.InfinispanManagedConnectionFactory.getCache(InfinispanManagedConnectionFactory.java:173)
    at org.teiid.resource.adapter.infinispan.dsl.InfinispanConnectionImpl.getCache(InfinispanConnectionImpl.java:251)
    at org.teiid.resource.adapter.infinispan.dsl.InfinispanConnectionImpl.getQueryFactory(InfinispanConnectionImpl.java:140)
    at org.teiid.resource.adapter.infinispan.dsl.DSLSearch.getQueryBuilder(DSLSearch.java:205)
    at org.teiid.resource.adapter.infinispan.dsl.DSLSearch.performSearch(DSLSearch.java:156)
    at org.teiid.resource.adapter.infinispan.dsl.DSLSearch.performSearch(DSLSearch.java:143)
    at org.teiid.translator.object.ObjectExecution.execute(ObjectExecution.java:261)
    at org.teiid.dqp.internal.datamgr.ConnectorWorkItem.execute(ConnectorWorkItem.java:366)

        ... 16 more
